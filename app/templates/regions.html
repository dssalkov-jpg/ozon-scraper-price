{% extends "layout.html" %}
{% block content %}
<h2>üåç Regions / –ü–í–ó –ø—Ä–æ—Ñ–∏–ª–∏</h2>

<div class="card">
  <h3>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ä–µ–≥–∏–æ–Ω–∞</h3>
  <form method="post" action="/regions/add">
    <div class="form-group">
      <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è</label>
      <input name="name" placeholder="moscow_center" required/>
    </div>
    <button type="submit">‚ûï –°–æ–∑–¥–∞—Ç—å</button>
  </form>
  <p class="muted" style="margin-top:16px">
    <strong>–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ü–í–ó:</strong><br>
    1. –°–æ–∑–¥–∞–π –ø—Ä–æ—Ñ–∏–ª—å –∑–¥–µ—Å—å<br>
    2. –õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏: <code>python scripts/create_region_profile.py –Ω–∞–∑–≤–∞–Ω–∏–µ_–ø—Ä–æ—Ñ–∏–ª—è</code><br>
    3. –í –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –±—Ä–∞—É–∑–µ—Ä–µ –≤—ã–±–µ—Ä–∏ –ü–í–ó/–≥–æ—Ä–æ–¥ –∏ –∑–∞–∫—Ä–æ–π –æ–∫–Ω–æ<br>
    4. –°–∫–æ–ø–∏—Ä—É–π –ø–∞–ø–∫—É <code>data/regions/–Ω–∞–∑–≤–∞–Ω–∏–µ_–ø—Ä–æ—Ñ–∏–ª—è</code> –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  </p>
</div>

{% if regions %}
<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <th>–ü—É—Ç—å</th>
      <th>–û–±–Ω–æ–≤–ª—ë–Ω</th>
    </tr>
  </thead>
  <tbody>
    {% for r in regions %}
    <tr>
      <td>{{r.id}}</td>
      <td><strong>{{r.name}}</strong></td>
      <td class="muted">{{r.storage_path}}</td>
      <td class="muted">{{r.updated_at.strftime('%Y-%m-%d %H:%M') if r.updated_at else '‚Äî'}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<div class="card muted">–ù–µ—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π —Ä–µ–≥–∏–æ–Ω–æ–≤</div>
{% endif %}
{% endblock %}
